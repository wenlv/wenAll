<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

		<meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.
		">
			<title>自动切换的tab选项卡(可有多个tab选项卡)</title>
			<style>
				.tab {
					width: 600px;
					/*height:*/
					border: 1px solid #ccc;
					margin: 0 auto;
				}
				
				.J_tab-menu {
					list-style: none;
					text-align: center;
					width: 33%;
					height: 20px;
					float: left;
					border: 1px solid red;
					/*display: none;*/
				}
				
				.J_tab-content {
					width: 100%;
					height: 300px;
					text-align: center;
					border: 1px solid #ccc;
					/*display: none;*/
				}
				
				.tab-currentMenu {
					color: blue;
					background: red;
					display: block;
				}
				
				.tab-currentMenu1 {
					color: #fff;
					background: #000;
					display: block;
				}
				
				.tab-currentMenu2 {
					color: red;
					background: blue;
					display: block;
				}
			</style>
	</head>

	<body>
	<h1>适用于多个自动切换tab的选项卡</h1>
		<div class="tab J_tab">
			<ul>
				<li class="J_tab-menu">menu1111111</li>
				<li class="J_tab-menu">menu2222222</li>
				<li class="J_tab-menu">menu3333333</li>
			</ul>
			<div class="tab-contentWrapper">
				<div class="J_tab-content" style="display:none;">
					<div>1111111111sdfdfghhfhfhf</div>
					<div>111111111111111111</div>
					<div>111111111111111111</div>
					<div>111111111111111111</div>
					<div>111111111111111111</div>
					<div>111111111111111111</div>
					<div>111111111111111111</div>
					<div>111111111111111111</div>
					<div>s双方都发给 f</div>
					<div>sd科技计划就会个梵蒂冈f</div>
				</div>
				<div class="J_tab-content">
					<div>sdfdfghhfhfhf</div>
					<div>22222222222222222</div>
					<div>22222222222222222</div>
					<div>22222222222222222</div>
					<div>22222222222222222</div>
					<div>22222222222222222</div>
					<div>22222222222222222</div>
					<div>s双方都发给 f</div>
					<div>sd科技计划就会个梵蒂冈f</div>
				</div>
				<div class="J_tab-content" style="display:none;">
					<div>sdfdfghhfhfhf</div>
					<div>333333333333333333333</div>
					<div>333333333333333333333</div>
					<div>333333333333333333333</div>
					<div>333333333333333333333</div>
					<div>333333333333333333333</div>
					<div>333333333333333333333</div>
					<div>s双方都发给 f</div>
					<div>sd科技计划就会个梵蒂冈f</div>
				</div>
			</div>
		</div>
		<hr />
		<div class="tab J_tab">
			<ul>
				<li class="J_tab-menu">menu1111111</li>
				<li class="J_tab-menu">menu2222222</li>
				<li class="J_tab-menu">menu3333333</li>
			</ul>
			<div class="tab-contentWrapper">
				<div class="J_tab-content">
					<div>1111111111sdfdfghhfhfhf</div>
					<div>111111111111111111</div>
					<div>111111111111111111</div>
					<div>111111111111111111</div>
					<div>111111111111111111</div>
					<div>111111111111111111</div>
					<div>111111111111111111</div>
					<div>s双方都发给 f</div>
					<div>sd科技计划就会个梵蒂冈f</div>
				</div>
				<div class="J_tab-content" style="display: none;">
					<div>sdfdfghhfhfhf</div>
					<div>22222222222222222</div>
					<div>22222222222222222</div>
					<div>22222222222222222</div>
					<div>22222222222222222</div>
					<div>22222222222222222</div>
					<div>22222222222222222</div>
					<div>s双方都发给 f</div>
					<div>sd科技计划就会个梵蒂冈f</div>
				</div>
				<div class="J_tab-content" style="display: none;">
					<div>sdfdfghhfhfhf</div>
					<div>333333333333333333333</div>
					<div>333333333333333333333</div>
					<div>333333333333333333333</div>
					<div>333333333333333333333</div>
					<div>333333333333333333333</div>
					<div>s双方都发给 f</div>
					<div>sd科技计划就会个梵蒂冈f</div>
				</div>
			</div>
		</div>
		<hr />
		<div class="tab J_tab">
			<ul>
				<li class="J_tab-menu">menu1111111</li>
				<li class="J_tab-menu">menu2222222</li>
				<li class="J_tab-menu">menu3333333</li>
			</ul>
			<div class="tab-contentWrapper">
				<div class="J_tab-content">
					<div>1111111111sdfdfghhfhfhf</div>
					<div>111111111111111111</div>
					<div>111111111111111111</div>
					<div>111111111111111111</div>
					<div>111111111111111111</div>
					<div>111111111111111111</div>
					<div>s双方都发给 f</div>
					<div>sd科技计划就会个梵蒂冈f</div>
				</div>
				<div class="J_tab-content" style="display: none;">
					<div>sdfdfghhfhfhf</div>
					<div>22222222222222222</div>
					<div>22222222222222222</div>
					<div>22222222222222222</div>
					<div>22222222222222222</div>
					<div>22222222222222222</div>
					<div>s双方都发给 f</div>
					<div>sd科技计划就会个梵蒂冈f</div>
				</div>
				<div class="J_tab-content" style="display: none;">
					<div>sdfdfghhfhfhf</div>
					<div>333333333333333333333</div>
					<div>333333333333333333333</div>
					<div>333333333333333333333</div>
					<div>333333333333333333333</div>
					<div>s双方都发给 f</div>
					<div>sd科技计划就会个梵蒂冈f</div>
				</div>
			</div>
		</div>

		<script>
			var GLOBAL = {};
			GLOBAL.namespace = function(str) {
				var arr = str.split("."),
					o = GLOBAL;
				for(i = (arr[0] == "GLOBAL") ? 1 : 0; i < arr.length; i++) {
					o[arr[i]] = o[arr[i]] || {};
					o = o[arr[i]];
				}
			}
			GLOBAL.namespace("Dom");
			GLOBAL.namespace("Event");
			GLOBAL.Dom.getElementsByClassName = function(str, root, tag) {
				if(root) {
					root = typeof root == "string" ? document.getElementById(root) : root;
				} else {
					root = document.body;
				};
				tag = tag || "*";
				var els = root.getElementsByTagName(tag),
					arr = [];
				for(var i = 0; i < els.length; i++) {
					for(var j = 0; k = els[i].className.split(" "), j < k.length; j++) {
						if(k[j] == str) {
							arr.push(els[i]);
							break;
						}
					}
				}
				return arr;
			}
			GLOBAL.Dom.addClass = function(node, str) {
				if(!new RegExp("(^|\\s+)" + str).test(node.className)) {
					node.className = node.className + ' ' + str;
				}
			}
			GLOBAL.Dom.removeClass = function(node, str) {
				node.className = node.className.replace(new RegExp("(^|\\s+)" + str), "");
			}
			GLOBAL.Event.on = function(node, eventType, handler) {
				node = typeof node == "string" ? document.getElementById(node) : node;
				if(document.all) {
					node.attachEvent("on" + eventType, handler);
				} else {
					node.addEventListener(eventType, handler, false);
				}
			}

			function setTab(config) {
				var root = config.root; //J_tab 即tab的最外层标签 可以有n个tab
				var currentClass = config.currentClass; //tab导航要改变的类
				var trigger = config.trigger || "click"; //触发的事件  点击  鼠标等  默认是点击
				var handler = config.handler; //回调函数 成功调用后要执行的函数
				var autoPlay = config.autoPlay; //是否自动播放 默认false  
				var playTime = config.playTime || 3000; //自动播放的时间  默认是3s
				var tabMenus = GLOBAL.Dom.getElementsByClassName("J_tab-menu", root), //获取导航栏元素组
					tabContents = GLOBAL.Dom.getElementsByClassName("J_tab-content", root); //获取内容栏元素组
				var currentIndex = 0;

				function showItem(n) {
					for(var i = 0; i < tabContents.length; i++) {
						tabContents[i].style.display = "none";
					}
					tabContents[n].style.display = "block";
					if(currentClass) {
						var currentMenu = GLOBAL.Dom.getElementsByClassName(currentClass, root)[0]; //获取含有当前 类的所有组
						if(currentMenu) {
							GLOBAL.Dom.removeClass(currentMenu, currentClass);
						};
						GLOBAL.Dom.addClass(tabMenus[n], currentClass);
					}
					if(handler) {
						handler(n);
					}
				}

				function autoHandler() {
					currentIndex++;
					if(currentIndex >= tabMenus.length) {
						currentIndex = 0;
					}
					showItem(currentIndex);
				}
				if(autoPlay) {
					setInterval(autoHandler, playTime);
				}
				for(var i = 0; i < tabMenus.length; i++) {
					tabMenus[i]._index = i;
					GLOBAL.Event.on(tabMenus[i], trigger, function() {
						showItem(this._index);
						currentIndex = this._index;
					});
				}
			}
//=============================================调用方法如下===========================================================================
		//需要设置最外层的类 J_tab 导航栏每个的类 J_tab-menu   内容栏的父级类J_tab-content
			var tabs = GLOBAL.Dom.getElementsByClassName("J_tab");  // 需要设置最外层的类 J_tab 
			var tabMenus = GLOBAL.Dom.getElementsByClassName("J_tab-menu", tabs[0]); //获取导航栏元素组
			var	tabContents = GLOBAL.Dom.getElementsByClassName("J_tab-content", tabs[0]); //获取内容栏元素组
			//			setTab({ root: tabs[0], trigger: "mouseover" });
			//第一个选项卡调用如下
			setTab({
				root: tabs[0],  //哪一个tab选项卡
				tabMenus:tabMenus,   //获取这个tab选项卡下的导航列表
				tabContents:tabContents,  //获取这个tab选项卡下的内容列表
				currentClass: "tab-currentMenu", //导航栏点击时添加的类
				trigger: "mouseover",  //如何触发事件   滑过  点击等 默认是点击
				handler: function(index) {    //需要执行的回调函数
					console.log(index);
					console.log("您激活的是第" + (index + 1) + "个标签");
				},
				autoPlay: true, //是否自动播放 默认false
				playTime: 500   //自动播放的间隔  默认是3s
			});
			
			//第二个选项卡调用如下
			setTab({ root: tabs[1],
				tabMenus:tabMenus,
				tabContents:tabContents, 
				currentClass: "tab-currentMenu1", 
				autoPlay: true,
				playTime: 500 
			});
			
			//第三个选项卡调用如下
			setTab({
				root: tabs[2],
				tabMenus:tabMenus, 
				tabContents:tabContents,
				trigger: "mouseover",
				currentClass: "tab-currentMenu2",
				handler: function(index) {
					console.log(index);
					console.log("您激活的是第" + (index + 1) + "个标签");
				},
				autoPlay: true,
				playTime: 500
			});
		</script>
	</body>

</html>